<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300" width="400" height="300">
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M 0,0 L 8,3 L 0,6 Z" fill="#ff4444"/>
    </marker>
  </defs>

  <rect width="400" height="300" fill="#0d1117" rx="8"/>

  <!-- Orbit path guide -->
  <circle cx="200" cy="150" r="80" fill="none" stroke="#333" stroke-width="0.5" stroke-dasharray="4,4"/>

  <!-- Hub -->
  <circle cx="200" cy="150" r="3" fill="white"/>

  <!-- Tether: starts vertical, 540 deg per 12s cycle (180 deg symmetric, seamless loop) -->
  <g>
    <animateTransform attributeName="transform" type="rotate"
      from="90 200 150" to="630 200 150"
      dur="12s" repeatCount="indefinite"/>
    <line x1="120" y1="150" x2="280" y2="150" stroke="#666" stroke-width="1.5"/>

    <!-- Force arrow at hub pointing toward attached mass (left end in local coords) -->
    <!-- Visible only during phase 2 when system is unbalanced -->
    <line x1="200" y1="150" x2="160" y2="150" stroke="#ff4444" stroke-width="2" marker-end="url(#arrowhead)" opacity="0">
      <animate attributeName="opacity" values="0;0;1;1;0;0"
        keyTimes="0;0.33;0.34;0.66;0.67;1" dur="12s" repeatCount="indefinite"/>
    </line>
  </g>

  <!-- Payload 1 (teal): 180 deg CW arc, then tangent east -->
  <circle cx="0" cy="0" r="6" fill="#4ecdc4">
    <animateMotion
      path="M 200,230 A 80,80 0 0,1 200,70 L 640,70"
      keyPoints="0;0.3636;1;1;0"
      keyTimes="0;0.333;0.917;0.96;1"
      calcMode="linear"
      dur="12s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0;1;1;0;0"
      keyTimes="0;0.02;0.88;0.94;1" dur="12s" repeatCount="indefinite"/>
  </circle>

  <!-- Payload 2: 360 deg CW arc (stays attached one extra half-turn), then tangent east -->
  <circle cx="0" cy="0" r="6" fill="#4ecdc4">
    <animateMotion
      path="M 200,70 A 80,80 0 0,1 200,230 A 80,80 0 0,1 200,70 L 389,70"
      keyPoints="0;0.3634;0.7269;1;1;0"
      keyTimes="0;0.333;0.667;0.917;0.96;1"
      calcMode="linear"
      dur="12s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0;1;1;0;0"
      keyTimes="0;0.02;0.88;0.94;1" dur="12s" repeatCount="indefinite"/>
  </circle>
</svg>
